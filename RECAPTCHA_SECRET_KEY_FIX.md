# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ reCAPTCHA

## –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞: `AppCheck: ReCAPTCHA error. (appCheck/recaptcha-error)`  
–û—à–∏–±–∫–∞: `POST https://www.google.com/recaptcha/api2/clr?k=6Lci2bwqAAAAAHLnGRKaFpoX-J7Jg-Z7PrRjrMEg net::ERR_ABORTED 400`

**–ü—Ä–∏—á–∏–Ω–∞**: Secret Key –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Firebase Console –ò–õ–ò –¥–æ–º–µ–Ω—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ reCAPTCHA Admin

---

## –†–µ—à–µ–Ω–∏–µ (2 –≤–∞—Ä–∏–∞–Ω—Ç–∞)

### ‚ö†Ô∏è –í–ê–†–ò–ê–ù–¢ 1: –î–æ–±–∞–≤–∏—Ç—å Secret Key –≤ Firebase (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

#### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å Secret Key

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.google.com/recaptcha/admin
2. –ù–∞–π–¥–∏—Ç–µ —Å–∞–π—Ç **LogiRoute Web** –≤ —Å–ø–∏—Å–∫–µ
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
4. –í—ã —É–≤–∏–¥–∏—Ç–µ –î–í–ê –∫–ª—é—á–∞:

```
Site Key:   6Lci2bwqAAAAAHLnGRKaFpoX-J7Jg-Z7PrRjrMEg  ‚úÖ (—É–∂–µ –≤ –∫–æ–¥–µ)
Secret Key: 6Lci2bwqAAAAAXXXXXXXXXXXXXXXXXXXXXXXXXXX  ‚ùå (–Ω—É–∂–µ–Ω!)
```

5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Secret Key** (–≤—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 6L...)

#### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–º–µ–Ω—ã –≤ reCAPTCHA Admin

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–∞–π—Ç–∞ **LogiRoute Web** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã:

```
‚úÖ logiroute-app.web.app
‚úÖ logiroute-app.firebaseapp.com
‚úÖ localhost (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
```

–ï—Å–ª–∏ –∏—Ö –Ω–µ—Ç - –¥–æ–±–∞–≤—å—Ç–µ!

#### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å Secret Key –≤ Firebase Console

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://console.firebase.google.com/
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **LogiRoute**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Build** ‚Üí **App Check**
4. –ù–∞–π–¥–∏—Ç–µ **LogiRoute Web** (Web App) –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
5. –°–ø—Ä–∞–≤–∞ –æ—Ç –Ω–µ–≥–æ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ **—Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚ãÆ**
6. –í—ã–±–µ—Ä–∏—Ç–µ **Edit configuration** –∏–ª–∏ **Manage reCAPTCHA keys**
7. –í –ø–æ–ª–µ **reCAPTCHA secret key** –≤—Å—Ç–∞–≤—å—Ç–µ Secret Key
8. –ù–∞–∂–º–∏—Ç–µ **Save**

#### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã (Firebase –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∫–ª—é—á)
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É https://logiroute-app.web.app
4. –û—Ç–∫—Ä–æ–π—Ç–µ Console (F12)
5. –û—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å

---

### üîÑ –í–ê–†–ò–ê–ù–¢ 2: –û—Ç–∫–ª—é—á–∏—Ç—å App Check –¥–ª—è Web (–≤—Ä–µ–º–µ–Ω–Ω–æ)

–ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å reCAPTCHA, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å App Check –¥–ª—è Web:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `lib/main.dart`
2. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ `webProvider`:

```dart
await FirebaseAppCheck.instance.activate(
  // webProvider: ReCaptchaV3Provider('6Lci2bwqAAAAAHLnGRKaFpoX-J7Jg-Z7PrRjrMEg'),
  androidProvider: AndroidProvider.playIntegrity,
  appleProvider: AppleProvider.deviceCheck,
);
```

3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –≤–µ–±-–≤–µ—Ä—Å–∏—é

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –≠—Ç–æ —Å–Ω–∏–∑–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ö–∞–∫ –ø–æ–Ω—è—Ç—å, —á—Ç–æ Secret Key –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ?

1. –í Firebase Console ‚Üí App Check ‚Üí Apps ‚Üí LogiRoute Web
2. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ: **reCAPTCHA v3** (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
3. –°—Ç–∞—Ç—É—Å: **Registered**

### –ö–∞–∫ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –¥–æ–º–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ?

1. –í https://www.google.com/recaptcha/admin ‚Üí LogiRoute Web ‚Üí Settings
2. –í —Ä–∞–∑–¥–µ–ª–µ **Domains** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   - `logiroute-app.web.app`
   - `logiroute-app.firebaseapp.com`
   - `localhost`

---

## –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–ª—é—á–∞–º–∏

| –ö–ª—é—á | –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –í–∏–¥–∏–º–æ—Å—Ç—å |
|------|------------------|------------|-----------|
| **Site Key** | –í –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`lib/main.dart`) | –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ | –ü—É–±–ª–∏—á–Ω—ã–π |
| **Secret Key** | –í Firebase Console | –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π |

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: 
- Site Key –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–ø—É–±–ª–∏—á–Ω—ã–π)
- Secret Key –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Firebase (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
- –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Site Key –≤–º–µ—Å—Ç–æ Secret Key!

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ Site Key –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–¥: `6Lci2bwqAAAAAHLnGRKaFpoX-J7Jg-Z7PrRjrMEg`  
‚ùå Secret Key –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω –≤ Firebase Console (–∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)  
‚ùå –û—à–∏–±–∫–∞ `appCheck/recaptcha-error` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç  
‚ùå –û—à–∏–±–∫–∞ `400 Bad Request` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ reCAPTCHA API

---

## –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

‚úÖ Site Key –≤ –∫–æ–¥–µ  
‚úÖ Secret Key –≤ Firebase Console  
‚úÖ –î–æ–º–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ reCAPTCHA Admin  
‚úÖ –û—à–∏–±–∫–∞ –∏—Å—á–µ–∑–Ω–µ—Ç  
‚úÖ App Check —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

1. **–í—Å—Ç–∞–≤–∏–ª–∏ Site Key –≤–º–µ—Å—Ç–æ Secret Key** ‚Üí –û—à–∏–±–∫–∞ 400
2. **–ó–∞–±—ã–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω—ã –≤ reCAPTCHA Admin** ‚Üí –û—à–∏–±–∫–∞ 400
3. **–ù–µ –ø–æ–¥–æ–∂–¥–∞–ª–∏ 2-3 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** ‚Üí –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
4. **–ù–µ –æ—á–∏—Å—Ç–∏–ª–∏ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** ‚Üí –°—Ç–∞—Ä–∞—è –æ—à–∏–±–∫–∞ –≤ –∫—ç—à–µ

---

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. –£–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–∞–π—Ç –≤ https://www.google.com/recaptcha/admin
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–∞–π—Ç —Å —Ç–µ–º–∏ –∂–µ –¥–æ–º–µ–Ω–∞–º–∏
3. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–µ Site Key –∏ Secret Key
4. –û–±–Ω–æ–≤–∏—Ç–µ Site Key –≤ `lib/main.dart`
5. –î–æ–±–∞–≤—å—Ç–µ Secret Key –≤ Firebase Console
6. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
