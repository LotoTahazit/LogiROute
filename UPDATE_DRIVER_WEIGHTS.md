# üöõ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–Ω–Ω–∞–∂–∞ –≤–æ–¥–∏—Ç–µ–ª–µ–π

## –¢–æ–Ω–Ω–∞–∂ –≤–æ–¥–∏—Ç–µ–ª–µ–π:
- **◊¢◊û◊®◊ù (Amram)**: 10 —Ç–æ–Ω–Ω
- **◊ô◊ë◊í◊†◊ô (Yevgeny)**: 10 —Ç–æ–Ω–Ω  
- **◊ô◊ï◊ì◊î (Yoda)**: 7.5 —Ç–æ–Ω–Ω
- **◊®◊ï◊†◊ô (Roni)**: 7.5 —Ç–æ–Ω–Ω

## –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –≤ Firebase Console:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Firebase Console (–≤—Ä—É—á–Ω—É—é)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Firebase Console](https://console.firebase.google.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç LogiRoute
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Firestore Database**
4. –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é `users`
5. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–¥–∏—Ç–µ–ª—è:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –≤–æ–¥–∏—Ç–µ–ª—è (–ø–æ uid –∏–ª–∏ email)
   - –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ: `truckWeight` (Number)
   - –ó–Ω–∞—á–µ–Ω–∏—è:
     - ◊¢◊û◊®◊ù: `10`
     - ◊ô◊ë◊í◊†◊ô: `10`
     - ◊ô◊ï◊ì◊î: `7.5`
     - ◊®◊ï◊†◊ô: `7.5`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å Admin –ø–∞–Ω–µ–ª—å)

–ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–Ω–Ω–∞–∂–∞.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Firebase CLI (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `update_weights.js`:

```javascript
const admin = require('firebase-admin');
const serviceAccount = require('./serviceAccountKey.json');

admin.initializeApp({
  credential: admin.credential.cert(serviceAccount)
});

const db = admin.firestore();

// –¢–æ–Ω–Ω–∞–∂ –≤–æ–¥–∏—Ç–µ–ª–µ–π
const driverWeights = {
  '◊¢◊û◊®◊ù': 10,
  '◊ô◊ë◊í◊†◊ô': 10,
  '◊ô◊ï◊ì◊î': 7.5,
  '◊®◊ï◊†◊ô': 7.5
};

async function updateDriverWeights() {
  try {
    const usersRef = db.collection('users');
    const snapshot = await usersRef.where('role', '==', 'driver').get();
    
    const batch = db.batch();
    let updated = 0;
    
    snapshot.forEach(doc => {
      const userData = doc.data();
      const driverName = userData.name;
      
      if (driverWeights[driverName] !== undefined) {
        batch.update(doc.ref, { 
          truckWeight: driverWeights[driverName] 
        });
        console.log(`‚úÖ Updated ${driverName}: ${driverWeights[driverName]}t`);
        updated++;
      }
    });
    
    await batch.commit();
    console.log(`\nüéâ Successfully updated ${updated} drivers`);
    
  } catch (error) {
    console.error('‚ùå Error:', error);
  }
}

updateDriverWeights();
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm install firebase-admin
node update_weights.js
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

```
‚öñÔ∏è [RouteService] Driver truck weight: 10.0t
‚öñÔ∏è [RouteService] Checking weight restrictions for truck: 10.0t
```

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ:

1. **UserModel** —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ `truckWeight`
2. **RouteService** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–Ω–Ω–∞–∂ –≤–æ–¥–∏—Ç–µ–ª—è –≤–º–µ—Å—Ç–æ —Ä–∞—Å—á–µ—Ç–Ω–æ–≥–æ
3. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤–µ—Å—É –Ω–∞ –¥–æ—Ä–æ–≥–∞—Ö
4. –ï—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (—É–ª–∏—Ü–∞ < 4—Ç), —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–Ω–Ω–∞–∂ –≥—Ä—É–∑–æ–≤–∏–∫–∞ –∏–∑ Firestore
2. –ï—Å–ª–∏ –≤–µ—Å –≥—Ä—É–∑–æ–≤–∏–∫–∞ ‚â• 4—Ç, –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Å–µ –¥–æ—Ä–æ–≥–∏ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–µ
3. Google Roads API –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç –∫ —Ä–µ–∞–ª—å–Ω—ã–º –¥–æ—Ä–æ–≥–∞–º
4. Google Places API –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø –¥–æ—Ä–æ–≥–∏ –∏ –Ω–∞–ª–∏—á–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
5. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ —É–ª–∏—Ü–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º < 4—Ç, –º–∞—Ä—à—Ä—É—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
6. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç—Ä–æ–∏—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
7. –ï—Å–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç —Ç–æ–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫—É

## –î–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:

–ï—Å–ª–∏ —Ç–æ–Ω–Ω–∞–∂ –Ω–µ —É–∫–∞–∑–∞–Ω –≤ –±–∞–∑–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: **4.0—Ç** (–∏–∑ `AppConfig.maxTruckWeight`)

